class Solution {
public:
    Node* lowestCommonAncestor(Node* p, Node * q) {
        Node* p1=p;
        Node* q1=q;

        while(p1!=q1){
            p1 =(p1==NULL)?q:p1->parent;
            q1 =(q1==NULL)?p:q1->parent;
        }
        return p1;
    }
};